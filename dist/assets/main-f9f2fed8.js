import{_ as h,f as b,r as g,o as i,c,a as e,F as x,g as _,j as v,t as n,b as m}from"./index-d0c9d9c3.js";const k={data(){return{update:!1,users:[],departments:null,groups:null,groupTags:null,updateUserGroupTags:null,token:null,filterMail:null,filterId:null,filterName:null,filteredUsers:null}},computed:{emailList(){var t=this.users.map(r=>r.mailAddress);return t},nameList(){var t=this.users.map(r=>r.empName);return t},idList(){var t=this.users.map(r=>r._id);return t}},created(){this.token=this.authStore.getToken,this.loadUsers()},methods:{loadUsers:function(){var t=this,r=this.authStore.getToken,l=new FormData;l.append("token",r),b.post(t.globalUrl+"getUsers",l).then(function(s){t.users=s.data,t.filteredUsers=s.data,t.mainStore.setUsers(s.data),console.log(s.data)}).catch(function(s){console.log(s)})},deleteUser:function(t){var r=this,l=this.authStore.getToken,s=new FormData;s.append("token",l),s.append("user",JSON.stringify(t)),b.post(r.globalUrl+"deleteUser",s).then(o=>{console.log(o),this.loadUsers()},o=>{console.log(o)})},filter(){var t=this,r=[this.filterMail,this.filterId,this.filterName],l=r.map(o=>o==null||o==""?"All":o),s=[{name:"mailAddress",value:l[0]},{name:"_id",value:l[1]},{name:"empName",value:l[2]}];t.filteredUsers=t.users.filter(o=>{for(var d of s)if(d.value!="All"&&o[d.name]!=d.value)return!1;return!0})}}},y={class:"flex flex-col w-full"},U={class:"w-full h-2/4 overflow-y-scroll px-5 flex flex-col mt-2"},w=e("thead",{class:"bg-blue-500 text-white font-bold"},[e("tr",null,[e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"},[v("Email "),e("button",null,"filter")]),e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"},"Department"),e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"},"Designation"),e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"},"User Type"),e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"},"User Score"),e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"},"Number Of Raters"),e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"})])],-1),N={class:"border-2 border-solid text-sm text-center border-slate-300 pr-16"},T={class:"border-2 border-solid text-sm text-center border-slate-300 pr-16"},S={class:"border-2 border-solid text-sm text-center border-slate-300 pr-16"},$={class:"border-2 border-solid text-sm text-center border-slate-300 pr-16"},C={class:"border-2 border-solid text-sm text-center border-slate-300 pr-16"},V={class:"border-2 border-solid text-sm text-center border-slate-300 pr-16"},A={class:"border-2 border-solid p-4 text-sm text-center border-slate-300 pr-16 mb-10"},D=["onClick"],F=["onClick"],L={class:"flex flex-row justify-end items-end mt-4"};function B(t,r,l,s,o,d){const u=g("font-awesome-icon");return i(),c("div",y,[e("div",U,[e("table",null,[w,e("tbody",null,[(i(!0),c(x,null,_(o.filteredUsers,(a,f)=>(i(),c("tr",{key:f,scope:"row",class:"hover:bg-blue-200"},[e("td",N,n(a.empName),1),e("td",T,n(a.department),1),e("td",S,n(a.designation),1),e("td",$,n(a.userType),1),e("td",C,n(a.rating),1),e("td",V,n(a.raters),1),e("td",A,[e("button",{onClick:p=>this.$router.push("/ticketing/users/update/"+a._id),class:"h-8 rounded-md text-green-500 font-bold"},[m(u,{icon:"fa-solid fa-pen"})],8,D),e("button",{onClick:p=>d.deleteUser(a),class:"h-8 ml-10 rounded-md text-rose-500 font-bold"},[m(u,{icon:"fa-solid fa-trash"})],8,F)])]))),128))])])]),e("div",L,[e("button",{onClick:r[0]||(r[0]=a=>this.$router.push("/systemAdmin/manage")),class:"bg-gray-300 w-36 text-gray-500 font-bold text-md h-12 rounded-sm mr-3"},"Home")])])}const E=h(k,[["render",B]]);export{E as default};
